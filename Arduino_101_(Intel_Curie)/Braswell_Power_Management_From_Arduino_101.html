<!DOCTYPE html>
<!--[if lt IE 7]>       <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>          <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>          <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <title>Braswell Power Management From Arduino 101 - UDOO X86 Docs</title>
    <meta name="description" content="UDOO X86 Documentation" />
    <meta name="author" content="UDOO Team">
    <meta charset="UTF-8">
    <link rel="icon" href="../themes/daux/img/favicon-udoo.ico" type="image/x-icon">
    <!-- Mobile -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Font -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700&subset=latin' rel='stylesheet' type='text/css'>
    <!-- CSS -->
    <link href='../themes/daux/css/theme-navy.min.css' rel='stylesheet' type='text/css'><link href='../themes/daux/css/udoo.css' rel='stylesheet' type='text/css'>
            <!-- Tipue Search -->
        <link href="../tipuesearch/tipuesearch.css" rel="stylesheet">
    
    <!-- jQuery -->
    <script src="../themes/daux/js/jquery-1.11.3.min.js"></script>
    <script src="../themes/daux/js/bootstrap.min.js"></script>

    <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body class="">
    
<header class="Navbar hidden-print">
    <img class="pull-left udoologo" src="../img/logo_docs.png"> 
<a class="Navbar__brand" href="../index.html">
UDOO X86 Documentation</a>

    <div class="Search">
        <svg class="Search__icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 451 451"><path d="M447.05 428l-109.6-109.6c29.4-33.8 47.2-77.9 47.2-126.1C384.65 86.2 298.35 0 192.35 0 86.25 0 .05 86.3.05 192.3s86.3 192.3 192.3 192.3c48.2 0 92.3-17.8 126.1-47.2L428.05 447c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.2-5.2 5.2-13.8 0-19zM26.95 192.3c0-91.2 74.2-165.3 165.3-165.3 91.2 0 165.3 74.2 165.3 165.3s-74.1 165.4-165.3 165.4c-91.1 0-165.3-74.2-165.3-165.4z"/></svg>
        <input type="search" id="tipue_search_input" class="Search__field" placeholder="Search..." autocomplete="on" results=25 autosave=text_search>
    </div>
</header>
<div class="Columns content">
    <aside class="Columns__left Collapsible">
        <div class="Collapsible__container">
            <button type="button" class="Button Collapsible__trigger">
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
                <span class="Collapsible__trigger--bar"></span>
            </button>
        </div>

        <div class="Collapsible__content">
            <!-- Navigation -->
            <ul class='Nav'><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Introduction</a><ul class='Nav'><li class='Nav__item '><a href="../Introduction/Introduction.html">Introduction</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Basic Setup</a><ul class='Nav'><li class='Nav__item '><a href="../Basic_Setup/Find_IP_Address.html">Find IP Address</a></li><li class='Nav__item '><a href="../Basic_Setup/Remote_Terminal_(SSH).html">Remote Terminal (SSH)</a></li><li class='Nav__item '><a href="../Basic_Setup/Remote_Desktop_(VNC).html">Remote Desktop (VNC)</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Operating Systems</a><ul class='Nav'><li class='Nav__item '><a href="../Operating_Systems/Linux.html">Linux</a></li><li class='Nav__item '><a href="../Operating_Systems/Windows.html">Windows</a></li><li class='Nav__item '><a href="../Operating_Systems/Android.html">Android</a></li><li class='Nav__item '><a href="../Operating_Systems/Yocto.html">Yocto</a></li><li class='Nav__item '><a href="../Operating_Systems/LibreELEC_with_CEC_support.html">LibreELEC with CEC support</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Hardware & Accessories</a><ul class='Nav'><li class='Nav__item '><a href="../Hardware_Accessories/Official_Accessories.html">Official Accessories</a></li><li class='Nav__item '><a href="../Hardware_Accessories/GPIOs.html">GPIOs</a></li><li class='Nav__item '><a href="../Hardware_Accessories/Bricks_snap_in_sensors.html">Bricks snap in sensors</a></li><li class='Nav__item '><a href="../Hardware_Accessories/CEC_HDMI.html">CEC-HDMI</a></li><li class='Nav__item '><a href="../Hardware_Accessories/Consumer_IR.html">Consumer IR</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Cookbook Linux</a><ul class='Nav'><li class='Nav__item '><a href="../Cookbook_Linux/Understanding_Linux_Software_Management_And_Installing.html">Understanding Linux Software Management And Installing</a></li><li class='Nav__item '><a href="../Cookbook_Linux/Linux_Command_Line_Interface.html">Linux Command Line Interface</a></li><li class='Nav__item '><a href="../Cookbook_Linux/Intel_Graphics_update_tool.html">Intel Graphics update tool</a></li><li class='Nav__item '><a href="../Cookbook_Linux/Play_videos_in_GPU.html">Play videos in GPU</a></li></ul></li><li class='Nav__item Nav__item--open has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Arduino 101 (Intel Curie)</a><ul class='Nav'><li class='Nav__item '><a href="../Arduino_101_(Intel_Curie)/Overview.html">Overview</a></li><li class='Nav__item '><a href="../Arduino_101_(Intel_Curie)/Getting_Started_with_Arduino_101.html">Getting Started with Arduino 101</a></li><li class='Nav__item '><a href="../Arduino_101_(Intel_Curie)/Pinout.html">Pinout</a></li><li class='Nav__item '><a href="../Arduino_101_(Intel_Curie)/Pattern_Matching_Engine.html">Pattern Matching Engine</a></li><li class='Nav__item Nav__item--active'><a href="../Arduino_101_(Intel_Curie)/Braswell_Power_Management_From_Arduino_101.html">Braswell Power Management From Arduino 101</a></li><li class='Nav__item '><a href="../Arduino_101_(Intel_Curie)/Curie_Reset_on_PowerON.html">Curie Reset on PowerON</a></li></ul></li><li class='Nav__item  has-children'><a href="../Serial_Libraries/index.html" class="folder"><i class="Nav__arrow">&nbsp;</i>Serial Libraries</a><ul class='Nav'><li class='Nav__item '><a href="../Serial_Libraries/Java_Serial_Libraries.html">Java Serial Libraries</a></li><li class='Nav__item '><a href="../Serial_Libraries/C_Serial_Libraries.html">C Serial Libraries</a></li><li class='Nav__item '><a href="../Serial_Libraries/PHP_Serial_Libraries.html">PHP Serial Libraries</a></li><li class='Nav__item '><a href="../Serial_Libraries/Python_Serial_Libraries.html">Python Serial Libraries</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Advanced Topics</a><ul class='Nav'><li class='Nav__item '><a href="../Advanced_Topics/UEFI_update.html">UEFI update</a></li><li class='Nav__item '><a href="../Advanced_Topics/EAPI.html">EAPI</a></li></ul></li><li class='Nav__item  has-children'><a href="#" class="aj-nav folder"><i class="Nav__arrow">&nbsp;</i>Hardware Reference</a><ul class='Nav'><li class='Nav__item '><a href="../Hardware_Reference/Overview.html">Overview</a></li><li class='Nav__item '><a href="../Hardware_Reference/Resources.html">Resources</a></li><li class='Nav__item '><a href="../Hardware_Reference/Board_versions.html">Board versions</a></li><li class='Nav__item '><a href="../Hardware_Reference/Video_Output.html">Video Output</a></li><li class='Nav__item '><a href="../Hardware_Reference/Storage_Options.html">Storage Options</a></li><li class='Nav__item '><a href="../Hardware_Reference/M.2_Connectors.html">M.2 Connectors</a></li><li class='Nav__item '><a href="../Hardware_Reference/UEFI_Firmware.html">UEFI Firmware</a></li><li class='Nav__item '><a href="../Hardware_Reference/Pinout_Braswell.html">Pinout Braswell</a></li><li class='Nav__item '><a href="../Hardware_Reference/Recognize_the_UDOO_X86_revision.html">Recognize the UDOO X86 revision</a></li></ul></li></ul>

            <div class="Links">
                                    <hr/>
                                            <a href="https://www.udoo.org" target="_blank">Home</a>
                        <br />
                                            <a href="https://www.udoo.org/other-resources/" target="_blank">Downloads</a>
                        <br />
                                            <a href="https://www.udoo.org/tutorial" target="_blank">Tutorials</a>
                        <br />
                                            <a href="https://www.udoo.org/forum" target="_blank">Forum</a>
                        <br />
                                            <a href="https://github.com/UDOOboard/X86-Docs" target="_blank">Github Docs</a>
                        <br />
                                    
                
                            </div>
        </div>
    </aside>
    <div class="Columns__right ">
        <div class="Columns__right__content">
            <div class="doc_content">
                <article class="Page">

    <div class="Page__header">
        <h1>Braswell Power Management From Arduino 101</h1>
            </div>


    <div class="s-content">
        <p>The Arduino 101 side (Intel® Curie™) of the UDOO X86 can take care of the Braswell power management.<br />
It can act as the Power Button(PWR) of the board connected directly to the Braswell processor. This means that an Arduino 101 sketch, that it's always running while the board is powered up, can for example turn on/off the Braswell main processor or wake the OS from the suspend state.</p>
<p>The Arduino 101 on board can wake up the Braswell processor depending on various triggers. For example, it can wake up the Braswell prcessor if the temperature, registered by a connected temperature sensor, increases over a certain threshold. Other examples of triggers may be a BLE signal or a movement tracked by the 6-axis motion sensor on board, defining features of Arduino 101. By exploiting the Arduino capabilities, you can set up the trigger you want to get the behaviour you expect from the system.</p>
<p>The Arduino 101 (Intel® Curie™) can trigger a power signal of the Braswell processor by producing a sequence of <strong>5 low pulses in 100ms</strong> in the <strong>Arduino Pin 9</strong> (IO9/PWM3 signal in the schematics). Technically speaking the pulses are catched by a SMT32 microcontroller onboard(STM32F100R4H6) and propagated to the Braswell to wake it up or shut it down.</p>
<p>You need to <strong>enable</strong> this feature of the UDOO X86 board in the <strong>UEFI Setup Utility(SCU)</strong>.</p>
<p><span class="label label-warning">Heads up!</span> This feature works correctly starting from the <strong>UEFI BIOS v1.03</strong> so check to have your UDOO X86 <a href="../Advanced_Topics/UEFI_update.html">updated</a>. Note that the description in the menu item <strong>Curie Power Management</strong> is incorrect and will be updated with the next UEFI BIOS release. The correct sequence to be used to power-on/power-off the Braswell processor is the one described in this page.</p>
<p>You can find the <strong>Curie Power Management</strong> option in the menu <strong>Power</strong>:</p>
<pre><code>Power

...
Curie Power Management    &lt;Enabled&gt;
Power On Intel Curie      &lt;Enabled&gt;
</code></pre>
<p>The option you can choose for the <strong>Curie Power Management</strong> are:</p>
<pre><code>&lt;Disabled&gt;    =   Intel Curie will never change the power status of the system

&lt;Wake Only&gt;   =   Intel Curie only be able to wake the system from S3/S4/S5

&lt;Enabled&gt;     =   Intel Curie will be able to put the system in a lower power
                  state(S3/S4/S5 depending on OS configuration) and wake it
</code></pre>
<h2 id="page_Examples">Examples</h2>
<h3 id="page_BLE-example">BLE example</h3>
<p>In this blog post <a href="http://blog.lucabelluccini.com/2017/05/udoo-x86-power-on-off-via-blle-on.html" class="Link--external">UDOO X86 Power On / Off via BLE on Arduino 101</a> you can find an example of an Arduino sketch that could be used to trigger a power signal from the Arduino 101 (Intel® Curie™) via BLE. You don't need to connect other hardware and you can use your smartphone to trigger the power signal to the Braswell processor wirelessly.</p>
<h3 id="page_Button-example">Button example</h3>
<p>Following an example of an Arduino sketch that could be used to trigger a power signal from the Arduino 101 (Intel® Curie™) when a button is pressed:</p>
<h4 id="page_Circuit-design">Circuit design</h4>
<p><a href="../img/x86_power_mng_circuit.png" target="_blank"><img style="width:600px; " src="../img/x86_power_mng_circuit.png"></a></p>
<h4 id="page_Arduino-sketch">Arduino sketch</h4>
<pre><code>int reset_pin = 9;    /* Triggers the power signal */
int input_pin = 2;    /* Input Button connected. Set in pull down with a resistor */

int pulse_time = 8;
volatile boolean power_pressed = false;

void power_interrupt() {
  /* When the button (connected to the Pin 2) is pressed, the attached interrupt runs this routine */
  power_pressed = true;
}

void setup() {
  pinMode(reset_pin, OUTPUT);
  digitalWrite(reset_pin, HIGH);

  pinMode(input_pin, INPUT);
  attachInterrupt(digitalPinToInterrupt(input_pin), power_interrupt, RISING);
}

void loop() {
  if (power_pressed) {
    for(int i=0; i&lt;5; i++) {
      digitalWrite(reset_pin, LOW);
      delay(pulse_time); /* Reset pin goes LOW for 8ms */
      digitalWrite(reset_pin, HIGH);
      delay(pulse_time); /* Reset pin goes HIGH for 8ms */
    }
    power_pressed = false;
  }

  /* Your main code goes in this loop, as before  */
  delay(10);
}
</code></pre>
    </div>

        <nav>
        <ul class="Pager">
            <li class=Pager--prev><a href="../Arduino_101_(Intel_Curie)/Pattern_Matching_Engine.html">Previous</a></li>            <li class=Pager--next><a href="../Arduino_101_(Intel_Curie)/Curie_Reset_on_PowerON.html">Next</a></li>        </ul>
    </nav>
    
<span style="float: left; font-size: 10px; color: gray;">
This page was last updated on Monday, March 21, 2022 at 5:26 AM.
</span>

</article>

            </div>
        </div>
    </div>
</div>

    
    <!-- hightlight.js -->
    <script src="../themes/daux/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- JS -->
    
    <script src="../themes/daux/js/daux.js"></script>

            <!-- Tipue Search -->
        <script type="text/javascript" src="../tipuesearch/tipuesearch.js"></script>

        <script>
            window.onunload = function(){}; // force $(document).ready to be called on back/forward navigation in firefox
            $(function() {
                tipuesearch({
                    'base_url': '../'
                });
            });
        </script>
    
</body>
</html>
